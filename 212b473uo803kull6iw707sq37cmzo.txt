private void client_OnMessageReceived(object sender, OnEventArgs e) //use the correct arg obviously
    {
        if (e.ChatMessage.Message.Contains("!who"))
        {

            string[] name = e.ChatMessage.Message.Split(' ');

            var playername = name[1];
            var playerdata = GetHtml();
            client.SendMessage(e.ChatMessage.Channel, playerdata);
        }

    }
    private string GetHtml()
    {

        var url = "https://herald.playphoenix.online/c/" + playername;
        var httpclient = new HttpClient();
        var html = httpclient.GetStringAsync(url).Result;

        var htmlDocument = new HtmlDocument();
        htmlDocument.LoadHtml(html ?? "");

        var playerdata = html;
        playerdata = Regex.Replace(playerdata, "<style>(.|\n)*?</style>", string.Empty);
        playerdata = Regex.Replace(playerdata, @"<xml>(.|\n)*?</xml>", string.Empty);
        playerdata = Regex.Replace(playerdata, @"<(.|\n)*?>", string.Empty);


        int n = 45;
        string[] lines = playerdata
            .Split(Environment.NewLine.ToCharArray())
           .Skip(n)
           .ToArray();
        Array.Resize(ref lines, 30);
        playerdata = string.Join(Environment.NewLine, lines);
        playerdata = Regex.Replace(playerdata, @"-", string.Empty);
        playerdata = Regex.Replace(playerdata, @"^\s+$[\r\n]*", string.Empty, RegexOptions.Multiline);
        playerdata = Regex.Replace(playerdata, @"&lt", string.Empty);
        playerdata = Regex.Replace(playerdata, @"&gt", string.Empty);
        playerdata = string.Join(Environment.NewLine, playerdata.Split(new[] { Environment.NewLine }, StringSplitOptions.None).Select(l => l.Trim()));
        playerdata = playerdata.Replace(System.Environment.NewLine, ", ");
        return playerdata;
    }